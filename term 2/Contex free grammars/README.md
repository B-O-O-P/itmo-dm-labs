
# Лабораторная работа по контекстно-свободным грамматикам

## Задача A. Автоматная грамматика

Имя входного файла: automaton.in

Имя выходного файла: automaton.out

Ограничение по времени: 2 секунды

Ограничение по памяти: 64 мегабайта

Дана автоматная грамматика, задающая язык _L_. Дан набор слов {w_i} _i_ = 1.._m_. Для каждого слова
w_i требуется определить, принадлежит ли оно языку _L_.

### Формат входных данных

В первой строке задано _n_ — число продукций и стартовый символ. Следующие _n_ строк содержат
продукции вида либо A_i → b_i C_i, либо A_i → b_i. В следующей строке задано число слов _m_, которые
требуется проверить. Далее следуют _m_ строк, содержащих слова w_i( 1 ≤ _n_ ≤ 100 , 1 ≤ _m_ ≤ 20 ,
1 ≤ w_i ≤ 10000 ).

Каждый нетерминальный символ представлен в виде большой буквы латинского алфавита, а
терминальный — маленькой. Все слова состоят только из маленьких букв латинского алфавита.

### Формат выходных данных

Для каждого w_i выведите «yes», если слово принадлежит языку, или «no» в противном случае.

### Пример

**automaton.in**
```
2 S
S -> aA
A -> b
2
ab
aa
```

**automaton.out**
```
yes
no
```

### [Решение](A.cpp)

## Задача B. ε-продукции

Имя входного файла: epsilon.in

Имя выходного файла: epsilon.out

Ограничение по времени: 2 секунды

Ограничение по памяти: 64 мегабайта

Дана КС-грамматика. Найдите все нетерминалы, из которых выводится ε.

### Формат входных данных

В первой строке задано число продукций _n_ и стартовый символ. Следующие _n_ строк содержат
продукции вида A_i → N_i, где A_i — нетерминал, а N_i — строка из терминалов и нетерминалов
( 1 ≤ _n_ ≤ 100 , 0 ≤ |N_i| ≤ 50 ).
Каждый нетерминальный символ представлен в виде большой буквы латинского алфавита, а
терминальный — маленькой. Строка N_i может быть пустой.

### Формат выходных данных

Выведите через пробел в лексикографическом порядке множество нетерминалов, из которых
выводится ε.

### Пример

**epsilon.in**
```
4 S
S -> AB
A -> a
B ->
B -> b
```

**epsilon.out**
```
B
```

### [Решение](B.cpp)

## Задача C. Бесполезные символы

Имя входного файла: useless.in

Имя выходного файла: useless.out

Ограничение по времени: 2 секунды

Ограничение по памяти: 64 мегабайта

Дана КС-грамматика. Найдите все бесполезные нетерминалы. Напомним, что нетерминал называется бесполезным, если он является либо недостижимым, либо непорождающим.

### Формат входных данных

В первой строке задано число продукций _n_ и стартовый символ. Следующие _n_ строк содержат
продукции вида A_i → w_i, где A_i — нетерминал, а N_i — строка из терминалов и нетерминалов
( 1 ≤ _n_ ≤100 , 0 ≤ |N_i| ≤ 50 ).
Каждый нетерминальный символ представлен в виде большой буквы латинского алфавита, а
терминальный — маленькой. Строка N_i может быть пустой.

### Формат выходных данных

Выведите через пробел в лексикографическом порядке множество бесполезных символов.

### Пример

**useless.in**
```
5 S
S -> AB
S -> C
A -> a
B -> b
T -> c
```

**useless.out**
```
C T
```

## Задача D. НФХ

Имя входного файла: nfc.in

Имя выходного файла: nfc.out

Ограничение по времени: 2 секунды

Ограничение по памяти: 64 мегабайта

Дана КС-грамматика в нормальной форме Хомского. Дано слов _w_. Требуется посчитать количество способов вывести _w_ в заданной грамматике. Напомним, что грамматика находится в нормальной форме Хомского, если любая ее продукция имеет вид либо A → BC, либо A →a.

### Формат входных данных

В первой строке задано число продукций _n_ и стартовый символ. Следующие _n_ строк содержат
продукции вида либо A_i → B_i C_i, либо A_i → a_i, где A_i, B_i, C_i — нетерминалы, а a_i — терминал. В
следующей строке задано слово _w_ ( 1 ≤ _n_ ≤ 100 , 1 ≤ |_w_| ≤ 100 ).

Каждый нетерминальный символ представлен в виде большой буквы латинского алфавита, а
терминальный — маленькой. Слово _w_ состоит только из маленьких букв латинского алфавита.

### Формат выходных данных

Для каждого w_i выведите число способов породить слово в заданной грамматике по модулю
1000000007.

### Пример

**nfc.in**
```
4 S
S -> AB
S -> AA
A -> a
B -> a
aa
```

**nfc.out**
```
2
```

### [Решение](D.cpp)

## Задача E. КС-грамматика

Имя входного файла: cf.in

Имя выходного файла: cf.out

Ограничение по времени: 2 секунды

Ограничение по памяти: 64 мегабайта

Дана КС-грамматика, задающая язык _L_. Дано слово _w_. Определить, принадлежит ли слово _w_
языку _L_.

### Формат входных данных

В первой строке задано число продукций _n_ и стартовый символ. Следующие _nс_ трок содержат
продукции вида A_i → N_i, где A_i — нетерминалы, а N_i — строка из терминалов и нетерминалов. В
следующей строке задано слово _w_ ( 1 ≤ _n_ ≤ 50 , 0 ≤ |N_i| ≤ 5 , 1 ≤ |_w_| ≤ 100 ).

Каждый нетерминальный символ представлен в виде большой буквы латинского алфавита, а
терминальный — маленькой. Все слова состоят только из маленьких букв латинского алфавита.
Строка N_i может быть пустой.

### Формат выходных данных

Для каждого w_i выведите «yes», если слово принадлежит языку, или «no» в противном случае.

### Пример

**cf.in**
```
2 S
S -> aA
A -> b
ab
```

**cf.out**
```
yes
```

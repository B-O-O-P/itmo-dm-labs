# Лабораторная работа по теории вероятности, 2019 год

## Задача A. Экзамен

Имя входного файла: exam.in

Имя выходного файла: exam.out

Ограничение по времени: 2 секунды

Ограничение по памяти: 256 мегабайта

Экзамен по дискретной математике у группы, состоящей из _n_ человек, принимают _k_ преподавателей. При этом _i_-й преподаватель опрашивает ровно p_i студентов. У каждого студента ровно одна
попытка на сдачу экзамена, и гарантируется, что будут опрошены все студенты. На основе предыдущих экзаменов, известно, что шанс произвольного студента сдать экзамен _i_-му преподавателю
равен m_i%. Требуется найти вероятность, с которой произвольный студент сдаст экзамен.

### Формат входного файла

В первой строке входного файла содержатся два целых числа _k_ и _n_ ( 1 ≤ _k_ ≤ _n_ ≤ 10^6 ). В следующих _k_ строках содержится по два целых числа p_i и m_i ( 1 ≤ p_i ≤ 10^6 ; 0 ≤ m_i ≤ 100 ). Гарантируется,
что
```
∑i=1..k: pi=n.
```
### Формат выходного файла

В выходной файл выведите одно число — вероятность того, что произвольный студент сдаст
экзамен, с абсолютной точностью не менее 10^5.

### Пример

**exam.in**
```
3 10
2 50
5 60
3 30
```

**exam.out**
```
0.49
```

**exam.in**
```
4 20
3 85
12 14
4 1
1 100
```

**exam.out**
```
0.2635
```

### [Решение](A.cpp)

## Задача B. Соревнование по стрельбе

Имя входного файла: shooter.in

Имя выходного файла: shooter.out

Ограничение по времени: 2 секунды

Ограничение по памяти: 256 мегабайта

Сегодня проходит очередное соревнование по стрельбе из ружья. На него пришли _n_ участников.
Так как соревнование проходит не первый год, то для каждого участника известна вероятность p_i
его попадания в мишень. Только что один из участников выстрелил по одной мишени _m_ раз, но ни
разу не попал. Требуется найти вероятность того, что выстрелы произведены стрелком с номером
_k_.

### Формат входного файла

В первой строке дано три целых числа _n_, _m_ и _k_ — количество участников соревнования, число
выстрелов участника и номер стрелка, соответственно. ( 1 ≤ _n_ ≤ 10000 , 1 ≤ _m_ ≤ 3 , 1 ≤ _k_ ≤ _n_ ). Далее
следует _n_ чисел p_i — вероятность попадания в мишень для _i_-го участника. ( 0 ≤ p_i ≤ 1 ).

### Формат выходного файла

Требуется вывести одно число — вероятность того, что выстрелы произведены стрелком с номером _k_. Ответ следует выводить с точностью не менее 10^13.

### Пример

**shooter.in**
```
3 2 1
0.3 0.5 0.8
```

**shooter.out**
```
0..6282051282051
```

### [Решение](B.cpp)

## Задача C. Лотерея

Имя входного файла: lottery.in

Имя выходного файла: lottery.out

Ограничение по времени: 2 секунды

Ограничение по памяти: 256 мегабайта

Петя придумал лотерею со следующими правилами:
* Билет стоит _N_ рублей.
* На билете есть _M_ строк.
* В строке с номером _i_ содержится a_i полей, из которых только одно выигрышное. Игрок начинает выбирать по одному полю, начиная с первой строки. Если он угадал, то он переходит к
    следующей строке. Если нет — игра останавливается, и игрок забирает b_i-1 рублей (b_0 считается
    равным нулю). Если игрок угадал все поля, то его выигрыш равен b_M.

Требуется найти, сколько прибыли(убытков) в среднем будет получать Петя за один проданный
билет.

### Формат входного файла

В первой строке входного файла содержатся два целых числа _N_ и _M_ ( 1 ≤ M; N ≤ 10^5 ). В следующих _M_ строках содержится по два целых числа a_i и b_i ( 2 ≤ a_i ≤ 100 , 1 ≤ b_i ≤ 10^5 ). Гарантируется,
что b_i+1 ≥ b_i.

### Формат выходного файла

В выходной файл выведите одно число — математическое ожидание прибыли от одного билета
с относительной погрешностью не более 0.1%.

### Пример

**lottery.in**
```
50 4
2 50
2 100
3 150
3 200
```

**lottery.out**
```
6.94444444
```

**lottery.in**
```
50 4
2 50
2 100
2 200
2 400
```

**lottery.out**
```
-12.5
```

### Примечание
Во втором примере Петя несет убыток в среднем в 12.5 рублей.

### [Решение](C.cpp)

## Задача D. Эргодическаямарковскаяцепь

Имя входного файла: markchain.in

Имя выходного файла: markchain.out

Ограничение по времени: 2 секунды

Ограничение по памяти: 256 мегабайта

Дана регулярная марковская цепь. Найдите ее эргодическое распределение.

### Формат входного файла

В первой строке дано числоn( 1 ≤ _n_ ≤ 100 ) — количество состояний в цепи. В следующих _n_
строках находится по _n_ чисел, причем _j_-е число в i+1-й строке обозначает вероятность перехода
из состояния _i_ в состояние _j_. Сумма вероятностей всех переходов из каждого состояния равна 1.

### Формат выходного файла

В _i_-й строке выведите вероятность оказаться в _i_-м состоянии после бесконечного количества
шагов с точностью не менее 10^4.

### Пример

**markchain.in**
```
2
0.5 0.5
0.5 0.5
```

**markchain.out**
```
0.5
0.5
```

### [Решение](D.cpp)